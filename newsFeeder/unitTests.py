import unittest
from app import extractClearText
import aiCaller

class TestAiPreperation(unittest.TestCase):
    
    def testTextCleanUp(self):
        rawVal='''<figure class="wp-block-image size-full-width"><img decoding="async" width="630" height="473" src="https://cdn.geekwire.com/wp-content/uploads/2025/01/21-630x473.jpg" alt="" class="wp-image-857009" srcset="https://cdn.geekwire.com/wp-content/uploads/2025/01/21-630x473.jpg 630w, https://cdn.geekwire.com/wp-content/uploads/2025/01/21-1260x945.jpg 1260w, https://cdn.geekwire.com/wp-content/uploads/2025/01/21-768x576.jpg 768w, https://cdn.geekwire.com/wp-content/uploads/2025/01/21-1536x1152.jpg 1536w, https://cdn.geekwire.com/wp-content/uploads/2025/01/21-2048x1536.jpg 2048w" sizes="(max-width: 630px) 100vw, 630px" /><figcaption class="wp-element-caption">Helion&#8217;s facility in Everett, Wash. (Helion Photo)</figcaption></figure> <p><a href="https://www.helionenergy.com/">Helion Energy</a> announced a $425 million funding round that will help the Seattle-area fusion company chase the &#8220;Holy Grail&#8221; of clean energy. </p> <p>The company&#8217;s new investors include SoftBank, Lightspeed Venture Partners and an unnamed university endowment. Sam Altman &#8212; OpenAI&#8217;s CEO and co-founder, as well as Helion&#8217;s longtime board chair and a past investor &#8212; also participated in the round with others.</p> <p>Helion&#8217;s valuation topped $5.4 billion with the latest funding round. The company has raised more than $1 billion to date. </p> <p>Founded in 2013, Helion is part of the increasingly buzzy fusion sector that&#8217;s garnering attention as tech companies seek new ways to fuel data centers powering AI services and applications. Fusion is desirable because it is an essentially limitless source of carbon-free power waiting to be unlocked.</p> <p>&#8220;We&#8217;re really excited for what we&#8217;re building,&#8221; said Helion CEO and co-founder <a href="https://www.linkedin.com/in/david-kirtley-490b8230">David Kirtley</a>. &#8220;This round is a testament to the progress we&#8217;ve made, all the hardware we&#8217;ve built, and the milestones we&#8217;ve hit. And so we&#8217;re excited to keep going, to be building in the Pacific Northwest, to be building in America.&#8221;</p> <p>OpenAI, SoftBank and Oracle made headlines this month for a partnership called Stargate that plans to invest $500 billion in the construction of AI infrastructure &#8212; including new power plants. President Trump last week <a href="https://apnews.com/article/trump-ai-openai-oracle-softbank-son-altman-ellison-be261f8a8ee07a0623d4170397348c41">met with</a> leaders of the effort, which got its start last year.</p> <p>There have also been rumors that Helion and OpenAI are working on a deal in which the AI company “would buy vast quantities of electricity to provide power for data centers,” according to <a href="https://www.wsj.com/tech/ai/openai-sam-altman-investments-004fc785">Wall Street Journal</a> reporting from June.</p> <p>Kirtley on Monday said he didn&#8217;t have &#8220;any new customer announcements.&#8221; </p> <p>But, he added, &#8220;when we founded the company, it was to build generators that provide base-load, always-on clean power, which is for things like data centers.&#8221;</p> <h3 class="wp-block-heading">Progress and targets</h3> <figure class="wp-block-image size-full-width"><img decoding="async" width="630" height="630" src="https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-630x630.png" alt="" class="wp-image-857011" srcset="https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-630x630.png 630w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-150x150.png 150w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-768x768.png 768w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-100x100.png 100w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-300x300.png 300w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-400x400.png 400w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris-600x600.png 600w, https://cdn.geekwire.com/wp-content/uploads/2025/01/Helion_Polaris.png 1080w" sizes="(max-width: 630px) 100vw, 630px" /><figcaption class="wp-element-caption">Helion&#8217;s Polaris device, its seventh-generation fusion prototype. (Helion Photo)</figcaption></figure> <p>Helion is one of more than 45 companies internationally that are pursuing fusion &#8212; a highly sought after and long elusive source of power that is created by smashing together light atoms. </p> <p>The fusion field has notched significant scientific achievements in recent years, with physicists at Lawrence Livermore National Laboratory repeatedly achieving <a href="https://www.llnl.gov/article/50616/llnls-national-ignition-facility-delivers-record-laser-energy">fusion ignition</a>, which is when a fusion reaction releases more energy than went into it.</p> <p>But there are still giant technical hurdles to overcome before fusion power is commercialized. Critics say Helion is too secretive about its progress to give a sense of future success. Skeptics predict it will be decades before anyone&#8217;s fusion reactor plugs into the electrical grid.</p> <p>Helion&#8217;s team is much more optimistic. </p> <p>At its Everett, Wash., facility, the company is building its seventh fusion prototype, a reactor called Polaris. The device began operating last year and has created the plasmas that are essential to producing fusion. The team will keep amping up the power flowing into the device to trigger fusion reactions. The company ultimately expects to capture electricity from Polaris. </p> <p>At the same time, Helion is working on a project to build what it hopes will be the world&#8217;s first commercial fusion reactor. </p> <p>In May 2023, Helion and Microsoft announced a groundbreaking agreement in which the Redmond, Wash., tech giant agreed to buy electricity from a facility that Helion is planning to build and get running by 2028. Kirtley said Helion is looking at multiple locations in Washington for the facility &#8212; including Eastern Washington&#8217;s Chelan County &#8212; but has not settled on a spot.</p> <p>Helion also has an agreement with <a href="https://www.prnewswire.com/news-releases/nucor-and-helion-to-develop-historic-500-mw-fusion-power-plant-301940341.html">Nucor </a>to build a fusion reactor to power a steel-making facility owned by the industrial manufacturer. The goal is to start operations by 2030.</p> <h3 class="wp-block-heading">More cash, more development</h3> <figure class="wp-block-image size-full-width"><img loading="lazy" decoding="async" width="630" height="473" src="https://cdn.geekwire.com/wp-content/uploads/2024/07/Helion-Kirtley-and-Inslee-630x473.jpg" alt="" class="wp-image-830945" srcset="https://cdn.geekwire.com/wp-content/uploads/2024/07/Helion-Kirtley-and-Inslee-630x473.jpg 630w, https://cdn.geekwire.com/wp-content/uploads/2024/07/Helion-Kirtley-and-Inslee-1260x945.jpg 1260w, https://cdn.geekwire.com/wp-content/uploads/2024/07/Helion-Kirtley-and-Inslee-768x576.jpg 768w, https://cdn.geekwire.com/wp-content/uploads/2024/07/Helion-Kirtley-and-Inslee-1536x1152.jpg 1536w, https://cdn.geekwire.com/wp-content/uploads/2024/07/Helion-Kirtley-and-Inslee-2048x1536.jpg 2048w" sizes="auto, (max-width: 630px) 100vw, 630px" /><figcaption class="wp-element-caption">Helion CEO David Kirtley, left, with Gov. Jay Inslee at Helion&#8217;s facility during a July 2024 tour. (GeekWire Photo / Lisa Stiffler)</figcaption></figure> <p>Helion will use much of the new funding to ramp up its internal supply chain operations, which will speed its ability to build fusion devices.</p> <p>&#8220;As we built Polaris, we saw some of the things that took a long time to get &#8212; literally supply chain [items], getting parts in the door,&#8221; Kirtley said. </p> <p>So Helion is expanding its ability to build the capacitors that power its reactors. It&#8217;s starting to manufacture high-powered magnets used to contain fusion reactions. And it&#8217;s bolstering its research and development on semiconductors specially designed for its purposes.</p> <p>The company hired about 125 employees last year and has grown to about 450 workers. Kirtley expects to add an additional 100 employees this year. </p> <p>But even with Helion&#8217;s impressive funding, two U.S.-based fusion competitors have netted more cash. </p> <p>Commonwealth Fusion Systems, which spun out of MIT, has raised more than $2 billion from investors, while California&#8217;s TAE has landed more than $1.3 billion. </p> <p>Zap Energy, another Seattle-area company located just minutes from Helion&#8217;s site, has raised $330 million to fund its fusion operations, with a <a href="https://www.geekwire.com/2024/fusion-startup-zap-energy-is-raising-more-cash-to-develop-commercially-viable-power/">$130 million round</a> disclosed in federal filings in July.</p> <p>In addition to its three new investors and Altman, existing investors Mithril Capital, Capricorn Investment Group, Dustin Moskovitz through Good Ventures Foundation, and Nucor all participated in Helion&#8217;s Series F round.</p> <p>Sam Altman previously invested $350 million in the company. He became the board chair in 2015 &#8212; just two years after Helion launched and shortly after Altman recruited the company to participate in the Y Combinator accelerator, which he was leading at the time.</p> <p>Particularly back in Helion&#8217;s early days &#8220;Sam&#8217;s focus is on hyper growth,&#8221; Kirtley said. &#8220;Sam has always pushed us, how do we grow faster? How do we test more? And how do we stay focused?&#8221;</p> <p>&#8220;That&#8217;s the constant drumbeat that I hear that I think aligns with a lot of Sam&#8217;s other missions,&#8221; he added. &#8220;How do we go fast and get the world a product that it needs?&#8221;</p>'''
        testVal='''Helion’s facility in Everett, Wash. (Helion Photo) Helion Energy announced a $425 million funding round that will help the Seattle-area fusion company chase the “Holy Grail” of clean energy.  The company’s new investors include SoftBank, Lightspeed Venture Partners and an unnamed university endowment. Sam Altman — OpenAI’s CEO and co-founder, as well as Helion’s longtime board chair and a past investor — also participated in the round with others. Helion’s valuation topped $5.4 billion with the latest funding round. The company has raised more than $1 billion to date.  Founded in 2013, Helion is part of the increasingly buzzy fusion sector that’s garnering attention as tech companies seek new ways to fuel data centers powering AI services and applications. Fusion is desirable because it is an essentially limitless source of carbon-free power waiting to be unlocked. “We’re really excited for what we’re building,” said Helion CEO and co-founder David Kirtley. “This round is a testament to the progress we’ve made, all the hardware we’ve built, and the milestones we’ve hit. And so we’re excited to keep going, to be building in the Pacific Northwest, to be building in America.” OpenAI, SoftBank and Oracle made headlines this month for a partnership called Stargate that plans to invest $500 billion in the construction of AI infrastructure — including new power plants. President Trump last week met with leaders of the effort, which got its start last year. There have also been rumors that Helion and OpenAI are working on a deal in which the AI company “would buy vast quantities of electricity to provide power for data centers,” according to Wall Street Journal reporting from June. Kirtley on Monday said he didn’t have “any new customer announcements.”  But, he added, “when we founded the company, it was to build generators that provide base-load, always-on clean power, which is for things like data centers.” Progress and targets Helion’s Polaris device, its seventh-generation fusion prototype. (Helion Photo) Helion is one of more than 45 companies internationally that are pursuing fusion — a highly sought after and long elusive source of power that is created by smashing together light atoms.  The fusion field has notched significant scientific achievements in recent years, with physicists at Lawrence Livermore National Laboratory repeatedly achieving fusion ignition, which is when a fusion reaction releases more energy than went into it. But there are still giant technical hurdles to overcome before fusion power is commercialized. Critics say Helion is too secretive about its progress to give a sense of future success. Skeptics predict it will be decades before anyone’s fusion reactor plugs into the electrical grid. Helion’s team is much more optimistic.  At its Everett, Wash., facility, the company is building its seventh fusion prototype, a reactor called Polaris. The device began operating last year and has created the plasmas that are essential to producing fusion. The team will keep amping up the power flowing into the device to trigger fusion reactions. The company ultimately expects to capture electricity from Polaris.  At the same time, Helion is working on a project to build what it hopes will be the world’s first commercial fusion reactor.  In May 2023, Helion and Microsoft announced a groundbreaking agreement in which the Redmond, Wash., tech giant agreed to buy electricity from a facility that Helion is planning to build and get running by 2028. Kirtley said Helion is looking at multiple locations in Washington for the facility — including Eastern Washington’s Chelan County — but has not settled on a spot. Helion also has an agreement with Nucor to build a fusion reactor to power a steel-making facility owned by the industrial manufacturer. The goal is to start operations by 2030. More cash, more development Helion CEO David Kirtley, left, with Gov. Jay Inslee at Helion’s facility during a July 2024 tour. (GeekWire Photo / Lisa Stiffler) Helion will use much of the new funding to ramp up its internal supply chain operations, which will speed its ability to build fusion devices. “As we built Polaris, we saw some of the things that took a long time to get — literally supply chain [items], getting parts in the door,” Kirtley said.  So Helion is expanding its ability to build the capacitors that power its reactors. It’s starting to manufacture high-powered magnets used to contain fusion reactions. And it’s bolstering its research and development on semiconductors specially designed for its purposes. The company hired about 125 employees last year and has grown to about 450 workers. Kirtley expects to add an additional 100 employees this year.  But even with Helion’s impressive funding, two U.S.-based fusion competitors have netted more cash.  Commonwealth Fusion Systems, which spun out of MIT, has raised more than $2 billion from investors, while California’s TAE has landed more than $1.3 billion.  Zap Energy, another Seattle-area company located just minutes from Helion’s site, has raised $330 million to fund its fusion operations, with a $130 million round disclosed in federal filings in July. In addition to its three new investors and Altman, existing investors Mithril Capital, Capricorn Investment Group, Dustin Moskovitz through Good Ventures Foundation, and Nucor all participated in Helion’s Series F round. Sam Altman previously invested $350 million in the company. He became the board chair in 2015 — just two years after Helion launched and shortly after Altman recruited the company to participate in the Y Combinator accelerator, which he was leading at the time. Particularly back in Helion’s early days “Sam’s focus is on hyper growth,” Kirtley said. “Sam has always pushed us, how do we grow faster? How do we test more? And how do we stay focused?” “That’s the constant drumbeat that I hear that I think aligns with a lot of Sam’s other missions,” he added. “How do we go fast and get the world a product that it needs?”'''
        resVal=extractClearText(rawVal)
        self.assertEqual(resVal,testVal)
        
class TestAiFunctionality(unittest.TestCase):
    
    def testAiSummaryreturnsValidValues(self):
        resSumVal=aiCaller.getAiSummary('''A senior national security adviser in the Biden Administration has warned that a Chinese state-sponsored hacking group has breached telecommunications firms in “dozens of countries”. Anne Neuberger, President Biden’s deputy national security adviser, said the campaign attributed to the threat actor known as Salt Typhoon is ongoing, and has breached at least eight US telcos, according to reporting in the Wall Street Journal. “The Chinese compromised private companies exploiting vulnerabilities in their systems as part of a global Chinese campaign that’s affected dozens of countries around the world,” Neuberger said. The WSJ cited an unnamed senior administration official, who added that a large number of Americans had their mobile phone metadata accessed during the intrusions. The official clarified that the administration did not believe all Americans had their call information exposed, however, noting the stolen metadata was centered around specific regions. This information is believed to have been used to identify devices used by senior government officials, the source told the WSJ, adding that the attacks may have potentially accessed the information systems used by the federal government for court-authorized network wiretapping requests. The campaign has likely been underway for one to two years, Neuberger stated, but said the US government did not currently believe any classified information had been compromised. Hackers may still be lurking on networks – US agencies recommend encrypted messaging apps Neuberger’s statement came shortly after the FBI and CISA issued a joint statement advising on 3 December urging US citizens to use encrypted messaging platforms to protect themselves from potential hackers lurking on the networks. Jeff Greene, executive assistant director for cybersecurity at CISA and an unnamed senior FBI official said using encrypted messaging apps would minimize their chances of having communications intercepted, recommending using encrypted voice communication if possible too. “People looking to further protect their mobile device communications would benefit from considering using a cellphone that automatically receives timely operating system updates, responsibly managed encryption and phishing resistant” email, social media, and productivity tools, the FBI official said. Trend Micro threat intelligence documenting the previous activity of Salt Typhoon suggests the group has been actively targeting critical national infrastructure and telecommunications companies since 2023. RELATED WEBINAR(Image credit: Cloudflare)A data localization guide for enterprises The campaign has previously infiltrated networks of major telecommunications companies including Verizon, AT&T, and Lumen Technologies, according to an October report from the WSJ. Jeff Simon, chief security officer at T-Mobile, issued a statement on 27 November stating that although its security teams had detected an attack after noticing suspicious network activity, no customer information was at risk. Tim Perry, head of strategy at Prepared, and former deputy homeland security advisor for Cal OES, said the campaign is a stark reminder of the resources and capabilities of foreign state actors. “These hacks are a reminder that our domestic communications infrastructure is critical to our national security. Foreign state actors have the resources and the motivation to exploit our network vulnerabilities, quietly infiltrate our communications networks and collect our most sensitive data,” he explained. “That’s why local, state and federal law enforcement agencies – whether they are running wiretaps, supporting law enforcement sensitive operational communications or just administering their local 911 system – must remain up to date on the latest cyber threats.”''')
        self.assertIsNotNone(resSumVal)
        
    def testAiSummaryReturnValuesDoNotContainUnusualChars(self):
        charlist='''0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()"'+%&/-?¨!$£;:,.@#°' '''
        sumVal=aiCaller.getAiSummary('''A senior national security adviser in the Biden Administration has warned that a Chinese state-sponsored hacking group has breached telecommunications firms in “dozens of countries”. Anne Neuberger, President Biden’s deputy national security adviser, said the campaign attributed to the threat actor known as Salt Typhoon is ongoing, and has breached at least eight US telcos, according to reporting in the Wall Street Journal. “The Chinese compromised private companies exploiting vulnerabilities in their systems as part of a global Chinese campaign that’s affected dozens of countries around the world,” Neuberger said. The WSJ cited an unnamed senior administration official, who added that a large number of Americans had their mobile phone metadata accessed during the intrusions. The official clarified that the administration did not believe all Americans had their call information exposed, however, noting the stolen metadata was centered around specific regions. This information is believed to have been used to identify devices used by senior government officials, the source told the WSJ, adding that the attacks may have potentially accessed the information systems used by the federal government for court-authorized network wiretapping requests. The campaign has likely been underway for one to two years, Neuberger stated, but said the US government did not currently believe any classified information had been compromised. Hackers may still be lurking on networks – US agencies recommend encrypted messaging apps Neuberger’s statement came shortly after the FBI and CISA issued a joint statement advising on 3 December urging US citizens to use encrypted messaging platforms to protect themselves from potential hackers lurking on the networks. Jeff Greene, executive assistant director for cybersecurity at CISA and an unnamed senior FBI official said using encrypted messaging apps would minimize their chances of having communications intercepted, recommending using encrypted voice communication if possible too. “People looking to further protect their mobile device communications would benefit from considering using a cellphone that automatically receives timely operating system updates, responsibly managed encryption and phishing resistant” email, social media, and productivity tools, the FBI official said. Trend Micro threat intelligence documenting the previous activity of Salt Typhoon suggests the group has been actively targeting critical national infrastructure and telecommunications companies since 2023. RELATED WEBINAR(Image credit: Cloudflare)A data localization guide for enterprises The campaign has previously infiltrated networks of major telecommunications companies including Verizon, AT&T, and Lumen Technologies, according to an October report from the WSJ. Jeff Simon, chief security officer at T-Mobile, issued a statement on 27 November stating that although its security teams had detected an attack after noticing suspicious network activity, no customer information was at risk. Tim Perry, head of strategy at Prepared, and former deputy homeland security advisor for Cal OES, said the campaign is a stark reminder of the resources and capabilities of foreign state actors. “These hacks are a reminder that our domestic communications infrastructure is critical to our national security. Foreign state actors have the resources and the motivation to exploit our network vulnerabilities, quietly infiltrate our communications networks and collect our most sensitive data,” he explained. “That’s why local, state and federal law enforcement agencies – whether they are running wiretaps, supporting law enforcement sensitive operational communications or just administering their local 911 system – must remain up to date on the latest cyber threats.”''')
        tbl=str.maketrans({}.fromkeys(charlist))
        testval=sumVal.translate(tbl)
        self.assertTrue(testval=="")
        
    def testAiFilterConsistencyTrue(self):
        testitsecTrue=aiCaller.getAiQualityFilter('''Hackers are using an uncensored chatbot dubbed GhostGPT to help write malware, highlighting how AI can be twisted to "illegal activities". That's according to Abnormal Security, which laid out details of GhostGPT in a blog post, saying the chatbot lacks the guardrails of standard AI tools such as ChatGPT, making it a helpful tool for cyber criminals. It's not the first hackbot-as-a-service, however. WormGPT arrived in 2023 offering a similar chatbot subscription service for writing phishing emails and business email compromise attacks.That, Abnormal Security noted, was followed by WolfGPT and EscapeGPT, suggesting GhostGPT is a sign malicious actors see value in AI helping them commit cyber crime. The security company explained that GhostGPT was specifically designed for cyber crime purposes and that enterprises should be wary of its potential looking ahead. "It likely uses a wrapper to connect to a jailbroken version of ChatGPT or an open source large language model (LLM), effectively removing any ethical safeguards," the blogpost explained. "By eliminating the ethical and safety restrictions typically built into AI models, GhostGPT can provide direct, unfiltered answers to sensitive or harmful queries that would be blocked or flagged by traditional AI systems." What can GhostGPT do? Abnormal shared a screenshot of an advertisement for the GhostGPT service that claimed the chatbot was fast and easy-to-use, offered uncensored responses, and had a strict no-logs policy, saying "protecting our users' privacy is our top priority." Abnormal noted that GhostGPT was marketed for coding, malware creation, and exploit development, but could also be used to write material for business email compromise (BEC) scams. The advertisement noted its various features make GhostGPT "a valuable tool for cybersecurity and various other applications." "While its promotional materials mention "cybersecurity" as a possible use, this claim is hard to believe, given its availability on cyber crime forums and its focus on BEC scams," the Abnormal post added. "Such disclaimers seem like a weak attempt to dodge legal accountability — nothing new in the cybercrime world." Indeed, Abnormal's researchers asked GhostGPT to write a phishing email; it outputted a template that could be used to trick victims. Easy access for all hackers GhostGPT is accessible as a Telegram bot, making it easy for attackers to make use of without having technical skills or taking the time to set up their own systems, Abnormal noted. "Because it’s available as a Telegram bot, there is no need to jailbreak ChatGPT or set up an open source model," the blog post noted. " Users can pay a fee, gain immediate access, and focus directly on executing their attacks." A report in DarkReading noted that prices for GhostGPT were relatively cheap, too: $50 for a week, $150 for a month, and $300 for three months. Fresh challenge for security By lowering the barrier of entry to would-be hackers, such chatbots make it easier for cyber criminals without extensive skills to attack anyone — potentially sparking a real challenge for personal and organizational security. Chatbots also make it faster and easier to launch cyber crime campaigns by enabling threat actors to create more effective malware, realistic-looking phishing emails, and so on. "With its ability to deliver insights without limitations, GhostGPT serves as a powerful tool for those seeking to exploit AI for malicious purposes," Abnormal said. Because cyber criminals are shifting to AI, so too must security professionals, says Abnormal, as tools like GhostGPT will make it easier to slip phishing emails and malware past traditional filters.''')
        testRevenueTrue=aiCaller.getAiQualityFilter('''Microsoft’s cloud and AI businesses are doing pretty well — and their impact is being felt across the company. In its Q2 2025 earnings, Microsoft announced revenue of $69.6 billion for the quarter, up 12 percent year-over-year, and net income of $24.1 billion, which is up 10 percent year-over-year. As for the AI business, CEO Satya Nadella says in a statement that it has “surpassed an annual revenue run rate of $13 billion, up 175 percent year-over-year.” The company’s Azure and other cloud services business grew 31 percent year-over-year, a slight decrease from 33 percent YoY growth the previous quarter. The company’s gaming revenues didn’t fare so well. Gaming revenue declined 7 percent, and Xbox hardware revenue declined 29 percent. Microsoft has been moving away from a focus on its own hardware with messaging like its “​​This is an Xbox” ad campaign and bringing Xbox Game Studios games to other platforms, and those changes could be contributing to the decline. That means the focus is instead on games and services, and that’s where the business is seeing some improvements. Xbox content and services revenue were up 2 percent, “driven by growth in Xbox Game Pass,” Microsoft says. (Last quarter, Microsoft’s software gaming revenues were way up even as Xbox hardware revenue declined.) During Wednesday’s earnings call, Nadella said that Game Pass “set a new quarterly revenue record” and noted that Xbox Cloud Gaming saw a “record 140 million hours streamed” during the quarter. Nadella also revealed that Indiana Jones and the Great Circle has “already been played by more than 4 million people.” In its press release, Microsoft said that it saw Windows OEM and Devices revenue growth of 4 percent year-over-year, a slight bump from 2 percent in Q1.  On the earnings call, Microsoft CFO Amy Hood said that Windows OEM and devices should decline low to mid single digits in Q3 2025. Overall gaming revenue is expected to grow in single digits, with Xbox content and services expected to grow low to mid single digits. Xbox hardware revenue “will decline year over year.” During the call, Nadella also reiterated that the company remains “very happy with the partnership with OpenAI” (the two companies announced last week that they are adjusting their partnership) and acknowledged that DeepSeek had some “real innovations.” Update, January 29th: Added details from Microsoft’s earnings call.''')
        self.assertTrue("true" in testitsecTrue.lower())
        self.assertTrue("true" in testRevenueTrue.lower())
        
    def testAiFilterConsistencyFalse(self):
        testgamefalse=aiCaller.getAiQualityFilter('''After spending three years in early access and releasing officially on August 3rd, Baldur’s Gate 3 is on the short list for 2023’s Game of the Year. It’s a beefy Dungeons & Dragons-based RPG and the successor of the Baldur’s Gate series developed by BioWare. The game features some of best, most memorable characters this side of Mass Effect 3, even if they’re a bit hornier than usual. After its PC release, Baldur’s Gate 3 quickly rocketed up the Steam charts, at one time boasting over 800,000 concurrent players, making it the ninth most-played game on Steam ever. Though released initially on PC, a PS5 version launches on September 6th, with an Xbox release slated for some time “this year,” developer Larian Studios says.   Baldur’s Gate 3 has yet another big patch on the way   Baldur’s Gate 3 patch adds official in-game mod support   Larian Studios teases all the new features coming in the next Baldur’s Gate 3 patch   Baldur’s Gate 3 mod support is coming in September   Baldur’s Gate 3 developer is moving on from Dungeons and Dragons   Cross-saves for Baldur’s Gate 3 on Xbox are working again.   Things are about to get real weird in Faerun.   Baldur’s Gate 3 just dropped its belated Valentine’s Day gift.   Roses are red, vampires are fair.   Baldur’s Gate 3 players on Xbox: update your console.   Microsoft might finally have a fix for issues with Baldur’s Gate 3 saves.   You’ll be shocked by Steam’s 2023 Game of the Year.   Baldur’s Gate 3 is the gift that keeps on giving.   Get that bag (of holding).   Baldur’s Gate 3 Xbox players, update your game — and your Xbox.   Well that’s awkward.   The latest Baldur’s Gate 3 patch introduces a new epilogue and lets you wear slutty crab armor   Baldur’s Gate 3 improves color-blindness support and, uh, hygiene.   The latest Baldur’s Gate 3 hotpatch has freed the nipples.   Baldur’s Gate 3’s latest hotfix makes its most regal feline bald again.   Look how they massacred my boy.   The latest hotfix for Baldur’s Gate 3 resolves some game-crashing bugs.   Baldur’s Gate 3’s best boss-melting weapon is the cursed body of a dead child.   Roll for initiative.   The latest Baldur’s Gate 3 patch makes the hardest fight in the game harder   The cast of Baldur’s Gate 3 is doing a D&D one-shot as their in-game characters   The full version of Baldur’s Gate 3 is coming to Mac soon   One great thing about Baldur’s Gate 3 on PS5? Local co-op.   Baldur’s Gate 3 on PS5 is a technically complicated but still enjoyable experience   Baldur’s Gate 3 will defy everyone’s wishes, make characters less horny   There’s a new Baldur’s Gate 3 hotfix ahead of the full PS5 launch.   The multiplayer in Baldur’s Gate 3 sorely needs a dungeon master   A Baldur’s Gate 3 companion bug is ruining my game   Baldur’s Gate 3’s gigantic new patch is for the shorties   Baldur’s Gate 3 is coming to Xbox ‘this year’   And the winner for best NPC name of all time goes to…   Baldur’s Gate 3 on the Steam Deck plays better than it looks   Your Baldur’s Gate 3 saves are… saved.''')
        testAdFalse=aiCaller.getAiQualityFilter('''The NAB Best of Show Awards 2025 are now open for entry!  The awards, which are celebrating their 11th anniversary, aim to recognize and celebrate the innovative products and solutions being showcased at the NAB Show in Las Vegas. The event itself is a who's who of the broadcast, media and entertainment world and the Best of Show awards highlight the best of the best when it comes to those leading the way and showing how it’s really done.  ITPro joins sibling brands Mix, Radio World, Sound & Video Contractor, TVBEurope and TV Tech in supporting the Best in Show awards. Exhibitors have until the end of March 21st to submit their entries, which will be judged by a panel consisting of ITPro editorial representatives and other industry experts. You can enter the awards by visiting the website here.   Who can enter? If you're registered to exhibit at the show, you're able to enter. Products need not be shipped but must be shown publicly in or by April 2025. If you've entered in previous years but also meet this year's criteria you are able to enter again.  Why should you enter? Aside from the chance to be awarded as Best in Show, there are several other benefits to entering the awards.  You'll receive a nominee badge once entered which is fully-licensed and can be used to promote your entry both online and in print promotions. We will also be distributing nominee placards for display at your booth.If then judged a winner, you will receive a winner's package containing a fully-licensed winner's badge, pre-made social post, template press release, and a trophy to display at your booth.Promotional coverage for winners will be published on participating brands' websites, in print and promoted in regular weekly and/or monthly newsletters.''')
        self.assertFalse("true" in testgamefalse.lower())
        self.assertFalse("true" in testAdFalse.lower())
        
        

if __name__ == '__main__':
    unittest.main()